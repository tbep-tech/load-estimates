---
output: 
  html_document:
    code_folding: hide
css: styles.css
---

# Tampa Bay load estimates 

Loading estimates for major pollutants and hydrologic inputs to Tampa Bay.  Estimates are tons per year and are unique to each major bay segment.  All estimates from Janicki Environmental. Source content [here](https://github.com/tbep-tech/load-estimates).

```{r setup, message = F, warning = F, results = 'hide', echo = FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = F, message = F, echo = T, fig.path = 'figs/', fig.path = 'figures/')

library(tidyverse)
library(plotly)
library(colorspace)

data(tndat)

# # style file
# styles <- readLines('https://raw.githubusercontent.com/tbep-tech/css-styling/master/styles.css')
# writeLines(styles, 'styles.css')
```

## Total Nitrogen {.tabset .tabset-pills}

### Static

```{r fig.height = 8, fig.width = 8}
p <- ggplot(tndat, aes(x = YEAR, y = TN_tons, fill = SOURCE)) + 
  geom_area(alpha = 0.9) +
  theme_minimal() + 
  theme(
    axis.title.x = element_blank(), 
    axis.text.x = element_text(angle = 45, size = 7, hjust = 1), 
    axis.ticks.x = element_line(), 
    legend.title = element_blank()
  ) +
  scale_y_continuous(expand = c(0, 0)) + 
  scale_x_continuous(expand = c(0, 0), breaks = seq(1985, 2019)) + 
  scale_fill_discrete_qualitative(palette = 'Dynamic') +
  facet_wrap(~ bay_segment, ncol = 1, scales = 'free_y') +
  labs(
    y  = 'Total Nitrogen (tons/yr)'
  )
p
```

### Dynamic


